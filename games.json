{ 
    "games": [
        {
            "title": "All-on simple",
            "author": "Daniel Simu",
            "instructions": "Press the button when all leds are lit. If you win, you can press again to restart the game.",
            "source": "#include &lt;TLOB.h&gt;\r\n\r\nTLOB tlob(3,2,4,5);\r\nString gameState = &quot;play&quot;;\r\n\r\nunsigned long time = 0;\r\n\r\nvoid setup() {\r\n  randomSeed(analogRead(0));\r\n}\r\n\r\nvoid loop() {\r\n  \r\n  \/\/ When the game is won, lights are \r\n  if (gameState == &quot;win&quot;){\r\n    if (tlob.buttonPressed()){\r\n      gameState = &quot;play&quot;;\r\n      tlob.stopAll();\r\n      tlob.ledAll(0);\r\n    }\r\n  }\r\n\r\n  \/\/whilst in play mode\r\n  if (gameState == &quot;play&quot;){\r\n\r\n    \/\/ when the button is pressed\r\n    if (tlob.buttonPressed()){\r\n      \/\/ if all leds are on\r\n      if (tlob.led(0) &amp;&amp; tlob.led(1) &amp;&amp; tlob.led(2)){\r\n        \/\/ blink all leds\r\n        tlob.blinkAll();\r\n        gameState = &quot;win&quot;;\r\n      } else {\r\n        \/\/loose\r\n        tlob.ledAll(0);\r\n        delay(500);\r\n      }\r\n    } else {\r\n      \/\/ if 100ms have passed\r\n      if (millis() - time &gt; 100){\r\n        \/\/ only if random lands on 0, 1 or 2 a led is changed.\r\n        int rand = random(5);\r\n        tlob.led(rand, !tlob.led(rand));\r\n        time = millis();\r\n      }\r\n    }\r\n  }\r\n\r\n  tlob.update();\r\n}\r\n",
            "path": {
                "ino": "all-on_simple/all-on_simple.ino",
                "hex": "all-on_simple_print/all-on_simple_print.hex"
            }
        },
        { 
            "title": "Lightspeed",
            "author": "Daniel Simu",
            "instructions": "Press the button when the middle light is lit. The game will speed up.",
            "source": "#include &lt;TLOB.h&gt;\r\n\r\nTLOB TLOB(3,2,4,6);\r\n\r\n\/\/ current position of the light\r\nint position = 0;\r\n\/\/ time since last move\r\nunsigned long lastTime = 0;\r\n\/\/ current state of the game\r\nString gameState = &quot;playing&quot;;\r\n\r\n\/\/ GAME SETTINGS\r\n\/\/ starting speed\r\nint minSpeed = 650;\r\n\/\/ time between led moves.\r\nfloat speed = minSpeed;\r\n\/\/ the rate the speed increments or decrements when winning or loosing\r\nfloat incr = 0.8;\r\nfloat decr = 2.5;\r\n\r\nvoid setup() {\r\n}\r\n\r\nvoid loop() {\r\n  \r\n  if ( gameState == &quot;playing&quot; ) {\r\n    nextLed();\r\n    checkButton();\r\n  }\r\n  \r\n  if (gameState == &quot;pause&quot;) {\r\n    waitToPlay();\r\n  }\r\n  \r\n  TLOB.update();\r\n}\r\n\r\n\/\/ switches to the next led if sufficient time has passed\r\nvoid nextLed(){\r\n  \/\/ if more time has passed than speed\r\n  if (millis() - lastTime &gt; speed){\r\n    \/\/ turn off current led\r\n    TLOB.led(position, false);\r\n    \/\/ switch position to next led\r\n    position = TLOB.next(position);\r\n    \/\/ turn on next led\r\n    TLOB.led(position, true);\r\n    \/\/ record current time\r\n    lastTime = millis();\r\n  }\r\n}\r\n\r\nvoid checkButton(){\r\n  \/\/ if the button is pressed\r\n  if ( TLOB.buttonPressed() ) {\r\n    if ( position == 1 ) {\r\n      \/\/ win! \r\n      \/\/ increase speed\r\n      speed *= incr;\r\n      \/\/blink middle led at quarter of speed\r\n      TLOB.blink(1, speed \/ 4);\r\n\r\n    \/\/ if button is not pressed\r\n    } else {\r\n      \/\/ loose... \r\n      \/\/ decrease speed, but the lowest setting is minSpeed\r\n      speed = min(speed * decr, minSpeed); \r\n      \/\/blink all leds at half of speed\r\n      TLOB.blinkAll(speed \/ 2);     \r\n    }\r\n    \/\/ change game state so we can show blink animation\r\n    gameState = &quot;pause&quot;;\r\n    \/\/ record current time\r\n    lastTime = millis();\r\n  }\r\n}\r\n\r\n\/\/ wait, and then set the game back to playing mode\r\nvoid waitToPlay(){\r\n  \/\/ time waiting before going back to play is speed * 2 or at minimum 200ms\r\n  int waitTime = max(speed * 2, 200);\r\n  \/\/ if waitTime has passed since lastTime\r\n  if (millis() - lastTime &gt; waitTime){\r\n    \/\/ stop all blinking\r\n    TLOB.stopAll();\r\n    \/\/ turn off lights in case they were on after blinking\r\n    TLOB.ledAll(0);\r\n    \/\/ change back to playing mode\r\n    gameState = &quot;playing&quot;;\r\n  }\r\n}",
            "path": {
                "ino": "lightspeed/lightspeed.ino",
                "hex": "lightspeed/lightspeed.hex"
            }
        },
        {
            "title": "Blink",
            "author": "Imani Dap",
            "instructions": "Enjoy the blinking led! This is a classical test to see if a piece of hardware is working correctly.",
            "source": "//TODO: Add blink c source code.",
            "path": {
                "ino": "blink/blink.ino",
                "hex": "blink/blink.hex"
            }
        }
    ]
}
