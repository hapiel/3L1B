const gameSource = "#include &lt;TLOB.h&gt;\r\n\r\nTLOB TLOB(2,3,4,5);\r\n\r\n\/\/ current position of the light\r\nint position = 0;\r\n\/\/ time since last move\r\nunsigned long lastTime = 0;\r\n\/\/ current state of the game\r\nString gameState = &quot;playing&quot;;\r\n\r\n\/\/ GAME SETTINGS\r\n\/\/ starting speed\r\nint minSpeed = 650;\r\n\/\/ time between led moves.\r\nfloat speed = minSpeed;\r\n\/\/ the rate the speed increments or decrements when winning or loosing\r\nfloat incr = 0.8;\r\nfloat decr = 2.5;\r\n\r\nvoid setup() {\r\n}\r\n\r\nvoid loop() {\r\n  \r\n  if ( gameState == &quot;playing&quot; ) {\r\n    nextLed();\r\n    checkButton();\r\n  }\r\n  \r\n  if (gameState == &quot;pause&quot;) {\r\n    waitToPlay();\r\n  }\r\n  \r\n  TLOB.update();\r\n}\r\n\r\n\/\/ switches to the next led if sufficient time has passed\r\nvoid nextLed(){\r\n  \/\/ if more time has passed than speed\r\n  if (millis() - lastTime &gt; speed){\r\n    \/\/ turn off current led\r\n    TLOB.led(position, false);\r\n    \/\/ switch position to next led\r\n    position = TLOB.next(position);\r\n    \/\/ turn on next led\r\n    TLOB.led(position, true);\r\n    \/\/ record current time\r\n    lastTime = millis();\r\n  }\r\n}\r\n\r\nvoid checkButton(){\r\n  \/\/ if the button is pressed\r\n  if ( TLOB.buttonPressed ) {\r\n    if ( position == 1 ) {\r\n      \/\/ win! \r\n      \/\/ increase speed\r\n      speed *= incr;\r\n      \/\/blink middle led at quarter of speed\r\n      TLOB.blink(1, speed \/ 4);\r\n\r\n    \/\/ if button is not pressed\r\n    } else {\r\n      \/\/ loose... \r\n      \/\/ decrease speed, but the lowest setting is minSpeed\r\n      speed = min(speed * decr, minSpeed); \r\n      \/\/blink all leds at half of speed\r\n      TLOB.blinkAll(speed \/ 2);     \r\n    }\r\n    \/\/ change game state so we can show blink animation\r\n    gameState = &quot;pause&quot;;\r\n    \/\/ record current time\r\n    lastTime = millis();\r\n  }\r\n}\r\n\r\n\/\/ wait, and then set the game back to playing mode\r\nvoid waitToPlay(){\r\n  \/\/ time waiting before going back to play is speed * 2 or at minimum 200ms\r\n  int waitTime = max(speed * 2, 200);\r\n  \/\/ if waitTime has passed since lastTime\r\n  if (millis() - lastTime &gt; waitTime){\r\n    \/\/ stop all blinking\r\n    TLOB.stopAll();\r\n    \/\/ turn off lights in case they were on after blinking\r\n    TLOB.allOff();\r\n    \/\/ change back to playing mode\r\n    gameState = &quot;playing&quot;;\r\n  }\r\n}";


document.getElementById("source-code").innerHTML = gameSource;
  
